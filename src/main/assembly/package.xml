<assembly
	xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 http://maven.apache.org/xsd/assembly-1.1.0.xsd">
	<id>package</id>
	<formats>
		<format>zip</format>
	</formats>
	<includeBaseDirectory>false</includeBaseDirectory>
	<fileSets>
		<!--  non lib directories -->
		<fileSet>
			<directory>${project.basedir}</directory>
			<outputDirectory>/</outputDirectory>
			<includes>
				<include>bin/pu*</include>
				<include>bin/gs-m*</include>
				<include>deploy/**</include>
				<include>tools/**</include>
			</includes>
			<excludes>
				<exclude>tools/maven/maven-openspaces-plugin/target/**</exclude>
				<exclude>tools/maven/apache-maven-3.0.2/**</exclude>
				<exclude>tools/**/*.iml</exclude>
				<exclude>tools/gshell/**</exclude>
			</excludes>
		</fileSet>
		
		<!--  lib required directory  -->
		<fileSet>
			<directory>${project.build.directory}/dependency</directory>
			<outputDirectory>/lib/required</outputDirectory>
			<includes>
				<include>spring-aop-*</include>
				<include>spring-asm-*</include>
				<include>spring-aspects-*</include>
				<include>spring-beans-*</include>
				<include>spring-context-*</include>
				<include>spring-core-*</include>
				<include>spring-expression-*</include>
				<include>spring-tx-*</include>
				<include>com.springsource.org.aopalliance-*</include>
				<include>commons-logging-*</include>
			</includes>
		</fileSet>
		<fileSet>
			<directory>${project.build.directory}</directory>
			<outputDirectory>/lib/required</outputDirectory>
			<includes>
				<include>${project.artifactId}.jar</include>
			</includes>
		</fileSet>
		<!--  lib optional directory  -->
		<fileSet>
			<directory>${project.build.directory}</directory>
			<outputDirectory>/lib/optional/openspaces/</outputDirectory>
			<includes>
				<include>${project.artifactId}-sources.jar</include>
			</includes>
		</fileSet>
		<fileSet>
			<directory>${project.basedir}</directory>
			<outputDirectory>/lib/optional/openspaces/</outputDirectory>
			<includes>
				<include>openspaces.*.txt</include>
			</includes>
		</fileSet>
		<fileSet>
			<directory>${project.basedir}/src/main/resources/</directory>
			<outputDirectory>/lib/optional/openspaces/schema</outputDirectory>
			<includes>
				<include>**/openspaces-*.xsd</include>
			</includes>
		</fileSet>
		<fileSet>
			<directory>${project.build.directory}/dependency</directory>
			<outputDirectory>/lib/optional/spring</outputDirectory>
			<includes>
				<include>spring-jdbc-*</include>
				<include>spring-jms-*</include>
				<include>spring-orm-*</include>
				<include>spring-oxm-*</include>
				<include>spring-web-*</include>
				<include>spring-webmvc-*</include>
				<include>cglib-*</include>
			</includes>
		</fileSet>
		<fileSet>
			<directory>${project.build.directory}/dependency</directory>
			<outputDirectory>/lib/optional/security</outputDirectory>
			<includes>
				<include>spring-security-core-*</include>
			</includes>
		</fileSet>
		
		<!--  lib platform directory -->
		<fileSet>
			<directory>${project.build.directory}</directory>
			<outputDirectory>/lib/platform/openspaces</outputDirectory>
			<includes>
				<include>gs-openspaces-jetty*.jar</include>
			</includes>
		</fileSet>
		<fileSet>
			<directory>${project.build.directory}/dependency</directory>
			<outputDirectory>/lib/platform/jee</outputDirectory>
			<includes>
				<include>activation-*</include>
				<include>transactions-jta-*</include>
				<include>geronimo-j2ee-connector_1.5_spec-*</include>
			</includes>
		</fileSet>
		<fileSet>
			<directory>${project.build.directory}/dependency</directory>
			<outputDirectory>/lib/platform/jee</outputDirectory>
			<includes>
				<include>activation-*</include>
				<include>transactions-jta-*</include>
				<include>geronimo-connector-*</include>
			</includes>
		</fileSet>
		<fileSet>
			<directory>${project.build.directory}/dependency</directory>
			<outputDirectory>/lib/platform/jetty</outputDirectory>
			<includes>
				<include>jetty-*</include>
				<include>javax.servlet.jsp.jstl-*</include>
				<include>javax.servlet.jsp-*</include>
				<include>javax.el-*</include>
				<include>com.sun.el-*</include>
				<include>org.apache.jasper.glassfish-*</include>
				<include>org.apache.taglibs.standard.glassfish-*</include>
				<include>ecj-*</include>
				<include>javax.servlet-api-*</include>
			</includes>
			<excludes>
				<exclude>jetty-all-*</exclude>
			</excludes>
		</fileSet>
		<fileSet>
			<directory>${project.build.directory}/dependency</directory>
			<outputDirectory>/lib/platform/velocity</outputDirectory>
			<includes>
				<include>velocity-dep-*</include>
			</includes>
		</fileSet>
		<fileSet>
			<directory>${project.build.directory}/dependency</directory>
			<outputDirectory>/lib/platform/jpa</outputDirectory>
			<includes>
				<include>openjpa-all-*</include>
			</includes>
		</fileSet>	
		<!--  Add javadoc file to package -->
		<fileSet>
			<directory>${project.build.directory}</directory>
			<outputDirectory>/docs</outputDirectory>
			<includes>
				<include>xap-javadoc*</include>
			</includes>
		</fileSet>	
	</fileSets>
</assembly>